"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[968],{9055:function(e,n,r){var i=r(4554),a=r(184);n.Z=function(e){var n=e.alt,r=e.children,s=e.component,t=e.src,c=e.sx;return(0,a.jsx)(i.Z,{alt:n,component:s,src:t,sx:c,children:r})}},816:function(e,n,r){var i=r(6151),a=r(184);n.Z=function(e){var n=e.children,r=e.color,s=e.disabled,t=e.endIcon,c=e.onClick,l=e.size,o=e.startIcon,u=e.sx,d=e.type,h=e.variant;return(0,a.jsx)(i.Z,{color:r,disabled:s,endIcon:t,onClick:c,size:l,sx:u,startIcon:o,type:d,variant:h,children:n})}},656:function(e,n,r){var i=r(7621),a=r(9504),s=r(184);n.Z=function(e){var n=e.children,r=e.sx;return(0,s.jsx)(i.Z,{sx:r,children:(0,s.jsx)(a.Z,{children:n})})}},5589:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children;return(0,a.jsx)(i.l0,{children:n})}},8425:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children,r=e.initialValues,s=e.onSubmit;return(0,a.jsx)(i.J9,{initialValues:r,onSubmit:s,children:n})}},6321:function(e,n,r){var i=r(1889),a=r(184);n.Z=function(e){var n=e.children,r=e.container,s=e.item,t=e.justify,c=e.md,l=e.spacing,o=e.xs;return(0,a.jsx)(i.ZP,{container:r,item:s,justify:t,md:c,spacing:l,xs:o,children:n})}},3434:function(e,n,r){var i=r(5021),a=r(184);n.Z=function(e){var n=e.children,r=e.disablePadding,s=e.onClick,t=e.sx;return(0,a.jsx)(i.ZP,{disablePadding:r,onClick:s,sx:t,children:n})}},7774:function(e,n,r){var i=r(9900),a=(r(2791),r(184));n.Z=function(e){var n=e.color,r=e.primary,s=e.sx;return(0,a.jsx)(i.Z,{color:n,primary:r,sx:{sx:s}})}},6484:function(e,n,r){var i=r(1413),a=r(5987),s=r(3896),t=r(184),c=["label"];n.Z=function(e){var n=e.label,r=(0,a.Z)(e,c);return(0,t.jsx)(s.Z,(0,i.Z)({label:n},r))}},4373:function(e,n,r){r.d(n,{P:function(){return u},x:function(){return o}});var i=r(1413),a=r(5987),s=r(9055),t=r(9624),c=r(184),l=["children","value","index"],o=function(e){var n=e.children,r=e.value,o=e.index,u=(0,a.Z)(e,l);return(0,c.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:r!==o,id:"custom-tabpanel-".concat(o),"aria-labelledby":"custom-tab-".concat(o)},u),{},{children:r===o&&(0,c.jsx)(s.Z,{sx:{p:3},children:(0,c.jsx)(t.Z,{children:n})})}))},u=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,r){var i=r(5228),a=r(184);n.Z=function(e){var n=e.ariaLabel,r=e.children,s=e.onChange,t=e.value;return(0,a.jsx)(i.Z,{"aria-label":n,onChange:s,value:t,children:r})}},4695:function(e,n,r){var i=r(7391),a=r(184);n.Z=function(e){var n=e.focused,r=e.fullWidth,s=e.id,t=e.label,c=e.name,l=e.onChange,o=e.required,u=e.sx,d=e.type,h=e.value;return(0,a.jsx)(i.Z,{focused:n,fullWidth:r,id:s,label:t,name:c,onChange:l,required:o,sx:u,type:d,value:h})}},8478:function(e,n,r){var i=r(4696),a=r(184);n.Z=function(e){var n=e.children,r=e.title;return(0,a.jsx)(i.Z,{title:r,children:n})}},9624:function(e,n,r){var i=r(890),a=r(184);n.Z=function(e){var n=e.align,r=e.children,s=e.color,t=e.sx,c=e.variant;return(0,a.jsx)(i.Z,{align:n,color:s,sx:t,variant:c,children:r})}},7968:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var i=r(1413),a=r(885),s=r(2791),t=r(9055),c=r(5192),l=r(6484),o=r(4373),u=r(4569),d=r.n(u),h=r(6960),m=r(816),x=r(656),Z=r(6321),v=r(3434),j=r(7774),f=r(184),p=function(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],t=(0,s.useState)([]),c=(0,a.Z)(t,2),l=c[0],o=c[1],u=(0,s.useState)([]),p=(0,a.Z)(u,2),b=p[0],g=p[1];(0,s.useEffect)((function(){d().get("/api/v1/cornerstone/issuer/did").then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==r.did&&d().get("/api/v1/cornerstone/issuer/schemas?schema_issuer_did="+r.did).then((function(e){o(e.data.schema_ids)})).catch((function(e){return console.log(e)}))}),[r.did]);return(0,f.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,f.jsx)(Z.Z,{item:!0,xs:12,md:4,children:l?0===l.length?(0,f.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"}):l.map((function(e,n){return(0,f.jsx)(x.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,f.jsxs)(v.Z,{children:["Schema ID:",(0,f.jsx)(m.Z,{onClick:function(){return n=e,void h.Am.promise(d().get("/api/v1/cornerstone/issuer/schema?schema_id="+n).then((function(e){g(e.data.schema),h.Am.success("Fetched schema!")})).catch((function(e){h.Am.error(e.msg)})),{pending:"Fetching..."});var n},sx:{color:"#0645AD !important"},children:(0,f.jsx)(j.Z,{primary:e})})]})},n)})):(0,f.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"})}),(0,f.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,f.jsxs)(x.Z,{sx:{m:"1rem"},children:[(0,f.jsxs)(v.Z,{children:["Schema ID: ",(0,f.jsx)(j.Z,{primary:b.id})]}),(0,f.jsxs)(v.Z,{children:["Schema Name: ",(0,f.jsx)(j.Z,{primary:b.name})]}),(0,f.jsxs)(v.Z,{children:["Schema Version: ",(0,f.jsx)(j.Z,{primary:b.version})]}),(0,f.jsxs)(v.Z,{children:["Schema Attributes:",(0,f.jsx)(j.Z,{primary:b.attrNames})]})]})})]})},b=r(8214),g=r(5861),S=r(2506),y=(0,r(9201).Z)((0,f.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),C=r(8425),A=r(5589),_=r(4695),k=r(8478),N=function(){var e=(0,s.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],t=(0,s.useState)(!1),c=(0,a.Z)(t,2),l=c[0],o=c[1],u=function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,h.Am.promise(d().post("/api/v1/cornerstone/issuer/schema/create",n).then((function(e){i(e.data.schema),h.Am.success("Created Schema!")})).catch((function(e){h.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsx)(x.Z,{children:(0,f.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,f.jsxs)(Z.Z,{item:!0,xs:12,md:6,children:[(0,f.jsx)("h2",{children:"Add New Schema"}),(0,f.jsx)(C.Z,{initialValues:{schema_name:"",schema_version:"",attributes:[]},onSubmit:function(e,n){var r=n.resetForm;u(e),r()},children:function(e){var n=e.values,r=e.handleChange;return(0,f.jsxs)(A.Z,{children:[(0,f.jsx)("div",{children:(0,f.jsx)(_.Z,{id:"schema_name",name:"schema_name",value:n.schema_name,onChange:r,label:"Schema Name",sx:{m:"1rem"},required:!0})}),(0,f.jsx)("div",{children:(0,f.jsx)(_.Z,{id:"schema_version",name:"schema_version",value:n.schema_version,onChange:r,label:"Schema Version",sx:{m:"1rem"},required:!0})}),(0,f.jsx)(S.F2,{name:"attributes",render:function(e){return(0,f.jsxs)("div",{children:[n.attributes.map((function(n,i){return(0,f.jsxs)("div",{children:[(0,f.jsx)(_.Z,{id:"attributes.".concat(i),name:"attributes.".concat(i),value:n,onChange:r,label:"Schema Attribute Name",sx:{m:"1rem"},required:!0}),(0,f.jsx)(k.Z,{title:"Remove attribute",children:(0,f.jsx)(m.Z,{onClick:function(){return e.remove(i)},sx:{m:"1rem"},children:(0,f.jsx)(y,{})})})]},i)})),(0,f.jsx)(m.Z,{variant:"outlined",sx:{m:"1rem"},onClick:function(){return e.push("")},children:"Add an Attribute"}),(0,f.jsx)("div",{children:(0,f.jsx)(m.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:l,children:"Create"})})]})}})]})}})]}),(0,f.jsx)(Z.Z,{item:!0,xs:12,md:6,children:r?(0,f.jsxs)("div",{style:{padding:"2rem"},children:[(0,f.jsx)(v.Z,{children:(0,f.jsx)(j.Z,{primary:"Schema ID: "+r.id})}),(0,f.jsx)(v.Z,{children:(0,f.jsx)(j.Z,{primary:"Schema Name: "+r.name})}),(0,f.jsx)(v.Z,{children:(0,f.jsx)(j.Z,{primary:"Schema Version: "+r.version})}),(0,f.jsx)(v.Z,{children:(0,f.jsx)(j.Z,{primary:"Schema Attributes: "+r.attrNames})})]}):""})]})})},w=function(){var e=(0,s.useState)(0),n=(0,a.Z)(e,2),r=n[0],u=n[1];return(0,f.jsxs)("div",{style:{margin:"1rem"},children:[(0,f.jsx)(t.Z,{children:(0,f.jsxs)(c.Z,{value:r,onChange:function(e,n){u(n)},ariaLabel:"Schema Tabs",children:[(0,f.jsx)(l.Z,(0,i.Z)({label:"All"},(0,o.P)(0))),(0,f.jsx)(l.Z,(0,i.Z)({label:"New"},(0,o.P)(1)))]})}),(0,f.jsx)(o.x,{value:r,index:0,children:(0,f.jsx)(p,{})}),(0,f.jsx)(o.x,{value:r,index:1,children:(0,f.jsx)(N,{})})]})}}}]);
//# sourceMappingURL=968.baa44d19.chunk.js.map