"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[418],{9055:function(e,n,i){var t=i(4554),r=i(184);n.Z=function(e){var n=e.alt,i=e.children,a=e.component,o=e.src,c=e.sx;return(0,r.jsx)(t.Z,{alt:n,component:a,src:o,sx:c,children:i})}},816:function(e,n,i){var t=i(6151),r=i(184);n.Z=function(e){var n=e.children,i=e.color,a=e.disabled,o=e.endIcon,c=e.onClick,s=e.size,d=e.startIcon,l=e.sx,u=e.type,p=e.variant;return(0,r.jsx)(t.Z,{color:i,disabled:a,endIcon:o,onClick:c,size:s,sx:l,startIcon:d,type:u,variant:p,children:n})}},656:function(e,n,i){var t=i(7621),r=i(9504),a=i(184);n.Z=function(e){var n=e.children,i=e.sx;return(0,a.jsx)(t.Z,{sx:i,children:(0,a.jsx)(r.Z,{children:n})})}},5589:function(e,n,i){var t=i(2506),r=i(184);n.Z=function(e){var n=e.children;return(0,r.jsx)(t.l0,{children:n})}},8425:function(e,n,i){var t=i(2506),r=i(184);n.Z=function(e){var n=e.children,i=e.initialValues,a=e.onSubmit;return(0,r.jsx)(t.J9,{initialValues:i,onSubmit:a,children:n})}},6321:function(e,n,i){var t=i(1889),r=i(184);n.Z=function(e){var n=e.children,i=e.container,a=e.item,o=e.justify,c=e.md,s=e.spacing,d=e.xs;return(0,r.jsx)(t.ZP,{container:i,item:a,justify:o,md:c,spacing:s,xs:d,children:n})}},3434:function(e,n,i){var t=i(5021),r=i(184);n.Z=function(e){var n=e.children,i=e.disablePadding,a=e.onClick,o=e.sx;return(0,r.jsx)(t.ZP,{disablePadding:i,onClick:a,sx:o,children:n})}},7774:function(e,n,i){var t=i(9900),r=(i(2791),i(184));n.Z=function(e){var n=e.color,i=e.primary,a=e.sx;return(0,r.jsx)(t.Z,{color:n,primary:i,sx:{sx:a}})}},6484:function(e,n,i){var t=i(1413),r=i(5987),a=i(3896),o=i(184),c=["label"];n.Z=function(e){var n=e.label,i=(0,r.Z)(e,c);return(0,o.jsx)(a.Z,(0,t.Z)({label:n},i))}},4373:function(e,n,i){i.d(n,{P:function(){return l},x:function(){return d}});var t=i(1413),r=i(5987),a=i(9055),o=i(9624),c=i(184),s=["children","value","index"],d=function(e){var n=e.children,i=e.value,d=e.index,l=(0,r.Z)(e,s);return(0,c.jsx)("div",(0,t.Z)((0,t.Z)({role:"tabpanel",hidden:i!==d,id:"custom-tabpanel-".concat(d),"aria-labelledby":"custom-tab-".concat(d)},l),{},{children:i===d&&(0,c.jsx)(a.Z,{sx:{p:3},children:(0,c.jsx)(o.Z,{children:n})})}))},l=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,i){var t=i(5228),r=i(184);n.Z=function(e){var n=e.ariaLabel,i=e.children,a=e.onChange,o=e.value;return(0,r.jsx)(t.Z,{"aria-label":n,onChange:a,value:o,children:i})}},4695:function(e,n,i){var t=i(7391),r=i(184);n.Z=function(e){var n=e.focused,i=e.fullWidth,a=e.id,o=e.label,c=e.name,s=e.onChange,d=e.required,l=e.sx,u=e.type,p=e.value;return(0,r.jsx)(t.Z,{focused:n,fullWidth:i,id:a,label:o,name:c,onChange:s,required:d,sx:l,type:u,value:p})}},9624:function(e,n,i){var t=i(890),r=i(184);n.Z=function(e){var n=e.align,i=e.children,a=e.color,o=e.sx,c=e.variant;return(0,r.jsx)(t.Z,{align:n,color:a,sx:o,variant:c,children:i})}},7418:function(e,n,i){i.r(n),i.d(n,{default:function(){return U}});var t=i(1413),r=i(885),a=i(2791),o=i(9055),c=i(5192),s=i(6484),d=i(4373),l=i(4569),u=i.n(l),p=i(6960),v=i(816),m=i(656),h=i(6321),x=i(3434),f=i(7774),Z=i(184),g=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),i=n[0],t=n[1],o=(0,a.useState)([]),c=(0,r.Z)(o,2),s=c[0],d=c[1],l=(0,a.useState)([]),g=(0,r.Z)(l,2),b=g[0],j=g[1];(0,a.useEffect)((function(){u().get("/api/v1/cornerstone/issuer/did").then((function(e){t(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==i.did&&u().get("definitions?issuer_did="+i.did).then((function(e){d(e.data.credential_definition_ids)})).catch((function(e){return console.log(e)}))}),[i.did]);return(0,Z.jsxs)(h.Z,{container:!0,spacing:2,children:[(0,Z.jsx)(h.Z,{item:!0,xs:12,md:4,children:s?0===s.length?(0,Z.jsx)(m.Z,{sx:{m:"1rem"},children:"No credential definitions available!"}):s.map((function(e,n){return(0,Z.jsx)(m.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,Z.jsxs)(x.Z,{children:["Credential Definition ID:",(0,Z.jsx)(v.Z,{onClick:function(){return n=e,void p.Am.promise(u().get("/api/v1/cornerstone/issuer/definition?cred_def_id="+n).then((function(e){j(e.data),p.Am.success("Fetched credential definition!")})).catch((function(e){p.Am.error(e.response.data.msg)})),{pending:"Fetching..."});var n},sx:{color:"#0645AD !important"},children:(0,Z.jsx)(f.Z,{primary:e})})]})},n)})):(0,Z.jsx)(m.Z,{sx:{m:"1rem"},children:"No credential definitions available!"})}),(0,Z.jsx)(h.Z,{item:!0,xs:12,md:8,children:(0,Z.jsxs)(m.Z,{sx:{m:"1rem"},children:[(0,Z.jsxs)(x.Z,{children:["Credential Definition ID:"," ",(0,Z.jsx)(f.Z,{primary:b.id})]}),(0,Z.jsxs)(x.Z,{children:["Schema ID: ",(0,Z.jsx)(f.Z,{primary:b.schemaId})]}),(0,Z.jsxs)(x.Z,{children:["Type: ",(0,Z.jsx)(f.Z,{primary:b.type})]}),(0,Z.jsxs)(x.Z,{children:["Tag:",(0,Z.jsx)(f.Z,{primary:b.tag})]})]})})]})},b=i(8214),j=i(5861),y=i(8096),C=i(4925),_=i(7198),I=i(4942),S=i(3366),k=i(7462),w=i(8182),D=i(4419),O=i(2065),F=i(7630),V=i(1046),M=i(6199),A=i(7119),P=i(162),R=i(2071),z=i(133),T=i(6014),q=i(9849),L=i(1217);function G(e){return(0,L.Z)("MuiMenuItem",e)}var N=(0,i(5878).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),B=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],W=(0,F.ZP)(A.Z,{shouldForwardProp:function(e){return(0,F.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,i.dense&&n.dense,i.divider&&n.divider,!i.disableGutters&&n.gutters]}})((function(e){var n,i=e.theme,t=e.ownerState;return(0,k.Z)({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:"1px solid ".concat((i.vars||i).palette.divider),backgroundClip:"padding-box"},(n={"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,I.Z)(n,"&.".concat(N.selected),(0,I.Z)({backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,O.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)},"&.".concat(N.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,O.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)})),(0,I.Z)(n,"&.".concat(N.selected,":hover"),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,O.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,O.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}),(0,I.Z)(n,"&.".concat(N.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,I.Z)(n,"&.".concat(N.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),(0,I.Z)(n,"& + .".concat(z.Z.root),{marginTop:i.spacing(1),marginBottom:i.spacing(1)}),(0,I.Z)(n,"& + .".concat(z.Z.inset),{marginLeft:52}),(0,I.Z)(n,"& .".concat(q.Z.root),{marginTop:0,marginBottom:0}),(0,I.Z)(n,"& .".concat(q.Z.inset),{paddingLeft:36}),(0,I.Z)(n,"& .".concat(T.Z.root),{minWidth:36}),n),!t.dense&&(0,I.Z)({},i.breakpoints.up("sm"),{minHeight:"auto"}),t.dense&&(0,k.Z)({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,(0,I.Z)({},"& .".concat(T.Z.root," svg"),{fontSize:"1.25rem"})))})),H=a.forwardRef((function(e,n){var i=(0,V.Z)({props:e,name:"MuiMenuItem"}),t=i.autoFocus,r=void 0!==t&&t,o=i.component,c=void 0===o?"li":o,s=i.dense,d=void 0!==s&&s,l=i.divider,u=void 0!==l&&l,p=i.disableGutters,v=void 0!==p&&p,m=i.focusVisibleClassName,h=i.role,x=void 0===h?"menuitem":h,f=i.tabIndex,g=(0,S.Z)(i,B),b=a.useContext(M.Z),j={dense:d||b.dense||!1,disableGutters:v},y=a.useRef(null);(0,P.Z)((function(){r&&y.current&&y.current.focus()}),[r]);var C,_=(0,k.Z)({},i,{dense:j.dense,divider:u,disableGutters:v}),I=function(e){var n=e.disabled,i=e.dense,t=e.divider,r=e.disableGutters,a=e.selected,o=e.classes,c={root:["root",i&&"dense",n&&"disabled",!r&&"gutters",t&&"divider",a&&"selected"]},s=(0,D.Z)(c,G,o);return(0,k.Z)({},o,s)}(i),O=(0,R.Z)(y,n);return i.disabled||(C=void 0!==f?f:-1),(0,Z.jsx)(M.Z.Provider,{value:j,children:(0,Z.jsx)(W,(0,k.Z)({ref:O,role:x,tabIndex:C,component:c,focusVisibleClassName:(0,w.Z)(I.focusVisible,m)},g,{ownerState:_,classes:I}))})})),E=i(8425),J=i(5589),K=i(4695),Q=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),i=n[0],t=n[1],o=(0,a.useState)(!1),c=(0,r.Z)(o,2),s=c[0],d=c[1],l=function(){var e=(0,j.Z)((0,b.Z)().mark((function e(n){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,p.Am.promise(u().post("/api/v1/cornerstone/issuer/definition/create",n).then((function(e){console.log(e.data),t(e.data),p.Am.success("Created Credential Definition!")})).catch((function(e){p.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(h.Z,{container:!0,spacing:2,children:[(0,Z.jsxs)(h.Z,{item:!0,xs:12,md:6,children:[(0,Z.jsx)("h2",{children:"Add New Credential Definition"}),(0,Z.jsx)(E.Z,{initialValues:{schema_id:"",support_revocation:!1,revocation_registry_size:0,tag:""},onSubmit:function(e,n){var i=n.resetForm;l(e),i()},children:function(e){var n=e.values,i=e.handleChange;return(0,Z.jsxs)(J.Z,{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(K.Z,{id:"schema_id",name:"schema_id",value:n.schema_id,onChange:i,label:"Schema ID",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsxs)(y.Z,{sx:{width:"16.5rem"},children:[(0,Z.jsx)(C.Z,{id:"support_revocation_label",sx:{margin:"1rem 0 0 1rem"},children:"Support Revocation"}),(0,Z.jsxs)(_.Z,{labelId:"support_revocation_label",id:"support_revocation",name:"support_revocation",value:n.support_revocation,label:"Support Revocation",onChange:i,sx:{m:"1rem"},children:[(0,Z.jsx)(H,{value:!1,children:"False"}),(0,Z.jsx)(H,{value:!0,children:"True"})]})]})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(K.Z,{id:"revocation_registry_size",name:"revocation_registry_size",type:"number",value:n.revocation_registry_size,onChange:i,label:"Revocation Registry Size",sx:{m:"1rem"}})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(K.Z,{id:"tag",name:"tag",value:n.tag,onChange:i,label:"Tag",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(v.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:s,children:"Create"})})]})}})]}),(0,Z.jsx)(h.Z,{item:!0,xs:12,md:6,children:i?(0,Z.jsx)("div",{style:{padding:"2rem"},children:(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(f.Z,{primary:"Credential Definition ID: "+i.credential_definition_id})})}):""})]})})},U=function(){var e=(0,a.useState)(0),n=(0,r.Z)(e,2),i=n[0],l=n[1];return(0,Z.jsxs)("div",{style:{margin:"1rem"},children:[(0,Z.jsx)(o.Z,{children:(0,Z.jsxs)(c.Z,{value:i,onChange:function(e,n){l(n)},ariaLabel:"Definition Tabs",children:[(0,Z.jsx)(s.Z,(0,t.Z)({label:"All"},(0,d.P)(0))),(0,Z.jsx)(s.Z,(0,t.Z)({label:"New"},(0,d.P)(1)))]})}),(0,Z.jsx)(d.x,{value:i,index:0,children:(0,Z.jsx)(g,{})}),(0,Z.jsx)(d.x,{value:i,index:1,children:(0,Z.jsx)(Q,{})})]})}},133:function(e,n,i){i.d(n,{V:function(){return r}});var t=i(1217);function r(e){return(0,t.Z)("MuiDivider",e)}var a=(0,i(5878).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);n.Z=a},6014:function(e,n,i){i.d(n,{f:function(){return r}});var t=i(1217);function r(e){return(0,t.Z)("MuiListItemIcon",e)}var a=(0,i(5878).Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);n.Z=a}}]);
//# sourceMappingURL=418.4c444820.chunk.js.map