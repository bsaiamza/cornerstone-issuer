"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[716],{9055:function(e,n,i){var r=i(4554),t=i(184);n.Z=function(e){var n=e.alt,i=e.children,a=e.component,o=e.src,s=e.sx;return(0,t.jsx)(r.Z,{alt:n,component:a,src:o,sx:s,children:i})}},816:function(e,n,i){var r=i(439),t=i(184);n.Z=function(e){var n=e.children,i=e.color,a=e.disabled,o=e.endIcon,s=e.onClick,c=e.size,d=e.startIcon,l=e.sx,u=e.type,p=e.variant;return(0,t.jsx)(r.Z,{color:i,disabled:a,endIcon:o,onClick:s,size:c,sx:l,startIcon:d,type:u,variant:p,children:n})}},656:function(e,n,i){var r=i(7621),t=i(9504),a=i(184);n.Z=function(e){var n=e.children,i=e.sx;return(0,a.jsx)(r.Z,{sx:i,elevation:3,children:(0,a.jsx)(t.Z,{children:n})})}},5589:function(e,n,i){var r=i(2506),t=i(184);n.Z=function(e){var n=e.children;return(0,t.jsx)(r.l0,{children:n})}},8425:function(e,n,i){var r=i(2506),t=i(184);n.Z=function(e){var n=e.children,i=e.initialValues,a=e.onSubmit,o=e.validate;return(0,t.jsx)(r.J9,{initialValues:i,onSubmit:a,validate:o,children:n})}},6321:function(e,n,i){var r=i(1889),t=i(184);n.Z=function(e){var n=e.children,i=e.container,a=e.item,o=e.justify,s=e.justifyContent,c=e.md,d=e.spacing,l=e.sx,u=e.xs;return(0,t.jsx)(r.ZP,{container:i,item:a,justify:o,justifyContent:s,md:c,spacing:d,sx:l,xs:u,children:n})}},3434:function(e,n,i){var r=i(5021),t=i(184);n.Z=function(e){var n=e.children,i=e.disablePadding,a=e.onClick,o=e.sx;return(0,t.jsx)(r.ZP,{disablePadding:i,onClick:a,sx:o,children:n})}},7774:function(e,n,i){var r=i(9900),t=(i(2791),i(184));n.Z=function(e){var n=e.color,i=e.primary,a=e.sx;return(0,t.jsx)(r.Z,{color:n,primary:i,sx:{sx:a}})}},6484:function(e,n,i){var r=i(1413),t=i(5987),a=i(3896),o=i(184),s=["label"];n.Z=function(e){var n=e.label,i=(0,t.Z)(e,s);return(0,o.jsx)(a.Z,(0,r.Z)({label:n},i))}},4373:function(e,n,i){i.d(n,{P:function(){return l},x:function(){return d}});var r=i(1413),t=i(5987),a=i(9055),o=i(9624),s=i(184),c=["children","value","index"],d=function(e){var n=e.children,i=e.value,d=e.index,l=(0,t.Z)(e,c);return(0,s.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:i!==d,id:"custom-tabpanel-".concat(d),"aria-labelledby":"custom-tab-".concat(d)},l),{},{children:i===d&&(0,s.jsx)(a.Z,{sx:{p:3},children:(0,s.jsx)(o.Z,{children:n})})}))},l=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,i){var r=i(2101),t=i(184);n.Z=function(e){var n=e.ariaLabel,i=e.children,a=e.onChange,o=e.value;return(0,t.jsx)(r.Z,{"aria-label":n,onChange:a,value:o,children:i})}},4695:function(e,n,i){var r=i(1413),t=i(3006),a=i(184);n.Z=function(e){var n=e.defaultValue,i=e.disabled,o=e.error,s=e.focused,c=e.fullWidth,d=e.helperText,l=e.id,u=e.InputLabelProps,p=e.label,v=e.name,m=e.onChange,Z=e.props,f=e.required,h=e.sx,x=e.type,_=e.value;return(0,a.jsx)(t.Z,(0,r.Z)({defaultValue:n,disabled:i,error:o,focused:s,fullWidth:c,helperText:d,id:l,InputLabelProps:u,label:p,name:v,onChange:m,required:f,sx:h,type:x,value:_},Z))}},9624:function(e,n,i){var r=i(4567),t=i(184);n.Z=function(e){var n=e.align,i=e.children,a=e.color,o=e.sx,s=e.variant;return(0,t.jsx)(r.Z,{align:n,color:a||"#777",sx:o,variant:s,children:i})}},3716:function(e,n,i){i.r(n),i.d(n,{default:function(){return R}});var r=i(1413),t=i(885),a=i(2791),o=i(9055),s=i(5192),c=i(6484),d=i(4373),l=i(4569),u=i.n(l),p=i(5985),v=i(816),m=i(656),Z=i(6321),f=i(3434),h=i(7774),x=i(184),_=function(){var e=(0,a.useState)([]),n=(0,t.Z)(e,2),i=n[0],r=n[1],o=(0,a.useState)([]),s=(0,t.Z)(o,2),c=s[0],d=s[1],l=(0,a.useState)([]),_=(0,t.Z)(l,2),S=_[0],y=_[1];(0,a.useEffect)((function(){var e="/api/v1/cornerstone/issuer/did",n="/api/v1/cornerstone/issuer/definitions";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/did",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definitions"),!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID?(u().get(e).then((function(e){r(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==i.did&&u().get(n+"?issuer_did="+i.did).then((function(e){d(e.data.credential_definition_ids)})).catch((function(e){return console.log(e)}))):u().get(n+"?issuer_did="+{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID).then((function(e){d(e.data.credential_definition_ids)})).catch((function(e){return console.log(e)}))}),[i.did]);return(0,x.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,x.jsx)(Z.Z,{item:!0,xs:12,md:4,children:c?0===c.length?(0,x.jsx)(m.Z,{sx:{m:"1rem"},children:"No credential definitions available!"}):c.map((function(e,n){return(0,x.jsx)(m.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,x.jsxs)(f.Z,{children:["Credential Definition ID:",(0,x.jsx)(v.Z,{onClick:function(){return function(e){var n="/api/v1/cornerstone/issuer/definition";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definition"),p.Am.promise(u().get(n+"?cred_def_id="+e).then((function(e){y(e.data),p.Am.success("Fetched credential definition!")})).catch((function(e){p.Am.error(e.response.data.msg)})),{pending:"Fetching..."})}(e)},sx:{color:"#0645AD !important"},children:(0,x.jsx)(h.Z,{primary:e})})]})},n)})):(0,x.jsx)(m.Z,{sx:{m:"1rem"},children:"No credential definitions available!"})}),(0,x.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,x.jsxs)(m.Z,{sx:{m:"1rem"},children:[(0,x.jsxs)(f.Z,{children:["Credential Definition ID:"," ",(0,x.jsx)(h.Z,{primary:S.id})]}),(0,x.jsxs)(f.Z,{children:["Schema ID: ",(0,x.jsx)(h.Z,{primary:S.schemaId})]}),(0,x.jsxs)(f.Z,{children:["Type: ",(0,x.jsx)(h.Z,{primary:S.type})]}),(0,x.jsxs)(f.Z,{children:["Tag:",(0,x.jsx)(h.Z,{primary:S.tag})]})]})})]})},S=i(4165),y=i(5861),g=i(5363),b=i(4932),T=i(8524),C=i(2626),j=i(8425),E=i(5589),O=i(4695),D=function(){var e=(0,a.useState)([]),n=(0,t.Z)(e,2),i=n[0],r=n[1],o=(0,a.useState)(!1),s=(0,t.Z)(o,2),c=s[0],d=s[1],l=function(){var e=(0,y.Z)((0,S.Z)().mark((function e(n){var i;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),i="/api/v1/cornerstone/issuer/definition/create",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL&&(i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/definition/create"),e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,p.Am.promise(u().post(i,n).then((function(e){console.log(e.data),r(e.data),p.Am.success("Created Credential Definition!")})).catch((function(e){p.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 10:d(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsx)(m.Z,{children:(0,x.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,x.jsxs)(Z.Z,{item:!0,xs:12,md:6,children:[(0,x.jsx)("h2",{children:"Add New Credential Definition"}),(0,x.jsx)(j.Z,{initialValues:{schema_id:"",support_revocation:!1,revocation_registry_size:0,tag:""},onSubmit:function(e,n){var i=n.resetForm;l(e),i()},children:function(e){var n=e.values,i=e.handleChange;return(0,x.jsxs)(E.Z,{children:[(0,x.jsx)("div",{children:(0,x.jsx)(O.Z,{id:"schema_id",name:"schema_id",value:n.schema_id,onChange:i,label:"Schema ID",sx:{m:"1rem"},required:!0})}),(0,x.jsx)("div",{children:(0,x.jsxs)(g.Z,{sx:{width:"16.5rem"},children:[(0,x.jsx)(b.Z,{id:"support_revocation_label",sx:{margin:"1rem 0 0 1rem"},children:"Support Revocation"}),(0,x.jsxs)(T.Z,{labelId:"support_revocation_label",id:"support_revocation",name:"support_revocation",value:n.support_revocation,label:"Support Revocation",onChange:i,sx:{m:"1rem"},children:[(0,x.jsx)(C.Z,{value:!1,children:"False"}),(0,x.jsx)(C.Z,{value:!0,children:"True"})]})]})}),(0,x.jsx)("div",{children:(0,x.jsx)(O.Z,{id:"revocation_registry_size",name:"revocation_registry_size",type:"number",value:n.revocation_registry_size,onChange:i,label:"Revocation Registry Size",sx:{m:"1rem"}})}),(0,x.jsx)("div",{children:(0,x.jsx)(O.Z,{id:"tag",name:"tag",value:n.tag,onChange:i,label:"Tag",sx:{m:"1rem"},required:!0})}),(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:c,children:"Create"})})]})}})]}),(0,x.jsx)(Z.Z,{item:!0,xs:12,md:6,children:i?(0,x.jsx)("div",{style:{padding:"2rem"},children:(0,x.jsx)(f.Z,{children:(0,x.jsx)(h.Z,{primary:"Credential Definition ID: "+i.credential_definition_id})})}):""})]})})},R=function(){var e=(0,a.useState)(0),n=(0,t.Z)(e,2),i=n[0],l=n[1];return(0,x.jsxs)("div",{style:{margin:"1rem"},children:[(0,x.jsx)(o.Z,{children:(0,x.jsxs)(s.Z,{value:i,onChange:function(e,n){l(n)},ariaLabel:"Definition Tabs",children:[(0,x.jsx)(c.Z,(0,r.Z)({label:"All"},(0,d.P)(0))),(0,x.jsx)(c.Z,(0,r.Z)({label:"New"},(0,d.P)(1)))]})}),(0,x.jsx)(d.x,{value:i,index:0,children:(0,x.jsx)(_,{})}),(0,x.jsx)(d.x,{value:i,index:1,children:(0,x.jsx)(D,{})})]})}},133:function(e,n,i){i.d(n,{V:function(){return t}});var r=i(1217);function t(e){return(0,r.Z)("MuiDivider",e)}var a=(0,i(5878).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);n.Z=a},6014:function(e,n,i){i.d(n,{f:function(){return t}});var r=i(1217);function t(e){return(0,r.Z)("MuiListItemIcon",e)}var a=(0,i(5878).Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);n.Z=a},9900:function(e,n,i){var r=i(4942),t=i(3366),a=i(7462),o=i(2791),s=i(8182),c=i(4419),d=i(4567),l=i(6199),u=i(3736),p=i(7630),v=i(9849),m=i(184),Z=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],f=(0,p.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[(0,r.Z)({},"& .".concat(v.Z.primary),n.primary),(0,r.Z)({},"& .".concat(v.Z.secondary),n.secondary),n.root,i.inset&&n.inset,i.primary&&i.secondary&&n.multiline,i.dense&&n.dense]}})((function(e){var n=e.ownerState;return(0,a.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})})),h=o.forwardRef((function(e,n){var i=(0,u.Z)({props:e,name:"MuiListItemText"}),r=i.children,p=i.className,h=i.disableTypography,x=void 0!==h&&h,_=i.inset,S=void 0!==_&&_,y=i.primary,g=i.primaryTypographyProps,b=i.secondary,T=i.secondaryTypographyProps,C=(0,t.Z)(i,Z),j=o.useContext(l.Z).dense,E=null!=y?y:r,O=b,D=(0,a.Z)({},i,{disableTypography:x,inset:S,primary:!!E,secondary:!!O,dense:j}),R=function(e){var n=e.classes,i=e.inset,r=e.primary,t=e.secondary,a={root:["root",i&&"inset",e.dense&&"dense",r&&t&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,c.Z)(a,v.L,n)}(D);return null==E||E.type===d.Z||x||(E=(0,m.jsx)(d.Z,(0,a.Z)({variant:j?"body2":"body1",className:R.primary,component:"span",display:"block"},g,{children:E}))),null==O||O.type===d.Z||x||(O=(0,m.jsx)(d.Z,(0,a.Z)({variant:"body2",className:R.secondary,color:"text.secondary",display:"block"},T,{children:O}))),(0,m.jsxs)(f,(0,a.Z)({className:(0,s.Z)(R.root,p),ownerState:D,ref:n},C,{children:[E,O]}))}));n.Z=h},9849:function(e,n,i){i.d(n,{L:function(){return t}});var r=i(1217);function t(e){return(0,r.Z)("MuiListItemText",e)}var a=(0,i(5878).Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);n.Z=a},2626:function(e,n,i){var r=i(4942),t=i(3366),a=i(7462),o=i(2791),s=i(8182),c=i(4419),d=i(2065),l=i(7630),u=i(3736),p=i(6199),v=i(5080),m=i(162),Z=i(2071),f=i(133),h=i(6014),x=i(9849),_=i(1498),S=i(184),y=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],g=(0,l.ZP)(v.Z,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,i.dense&&n.dense,i.divider&&n.divider,!i.disableGutters&&n.gutters]}})((function(e){var n,i=e.theme,t=e.ownerState;return(0,a.Z)({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:"1px solid ".concat((i.vars||i).palette.divider),backgroundClip:"padding-box"},(n={"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,r.Z)(n,"&.".concat(_.Z.selected),(0,r.Z)({backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)},"&.".concat(_.Z.focusVisible),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.focusOpacity,"))"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)})),(0,r.Z)(n,"&.".concat(_.Z.selected,":hover"),{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / calc(").concat(i.vars.palette.action.selectedOpacity," + ").concat(i.vars.palette.action.hoverOpacity,"))"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?"rgba(".concat(i.vars.palette.primary.mainChannel," / ").concat(i.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}),(0,r.Z)(n,"&.".concat(_.Z.focusVisible),{backgroundColor:(i.vars||i).palette.action.focus}),(0,r.Z)(n,"&.".concat(_.Z.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),(0,r.Z)(n,"& + .".concat(f.Z.root),{marginTop:i.spacing(1),marginBottom:i.spacing(1)}),(0,r.Z)(n,"& + .".concat(f.Z.inset),{marginLeft:52}),(0,r.Z)(n,"& .".concat(x.Z.root),{marginTop:0,marginBottom:0}),(0,r.Z)(n,"& .".concat(x.Z.inset),{paddingLeft:36}),(0,r.Z)(n,"& .".concat(h.Z.root),{minWidth:36}),n),!t.dense&&(0,r.Z)({},i.breakpoints.up("sm"),{minHeight:"auto"}),t.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,(0,r.Z)({},"& .".concat(h.Z.root," svg"),{fontSize:"1.25rem"})))})),b=o.forwardRef((function(e,n){var i=(0,u.Z)({props:e,name:"MuiMenuItem"}),r=i.autoFocus,d=void 0!==r&&r,l=i.component,v=void 0===l?"li":l,f=i.dense,h=void 0!==f&&f,x=i.divider,b=void 0!==x&&x,T=i.disableGutters,C=void 0!==T&&T,j=i.focusVisibleClassName,E=i.role,O=void 0===E?"menuitem":E,D=i.tabIndex,R=(0,t.Z)(i,y),P=o.useContext(p.Z),I={dense:h||P.dense||!1,disableGutters:C},A=o.useRef(null);(0,m.Z)((function(){d&&A.current&&A.current.focus()}),[d]);var L,W=(0,a.Z)({},i,{dense:I.dense,divider:b,disableGutters:C}),F=function(e){var n=e.disabled,i=e.dense,r=e.divider,t=e.disableGutters,o=e.selected,s=e.classes,d={root:["root",i&&"dense",n&&"disabled",!t&&"gutters",r&&"divider",o&&"selected"]},l=(0,c.Z)(d,_.K,s);return(0,a.Z)({},s,l)}(i),H=(0,Z.Z)(A,n);return i.disabled||(L=void 0!==D?D:-1),(0,S.jsx)(p.Z.Provider,{value:I,children:(0,S.jsx)(g,(0,a.Z)({ref:H,role:O,tabIndex:L,component:v,focusVisibleClassName:(0,s.Z)(F.focusVisible,j)},R,{ownerState:W,classes:F}))})}));n.Z=b},1498:function(e,n,i){i.d(n,{K:function(){return t}});var r=i(1217);function t(e){return(0,r.Z)("MuiMenuItem",e)}var a=(0,i(5878).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);n.Z=a}}]);
//# sourceMappingURL=716.6a8f9986.chunk.js.map