"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[968],{9055:function(e,n,r){var i=r(4554),a=r(184);n.Z=function(e){var n=e.alt,r=e.children,t=e.component,s=e.src,c=e.sx;return(0,a.jsx)(i.Z,{alt:n,component:t,src:s,sx:c,children:r})}},816:function(e,n,r){var i=r(439),a=r(184);n.Z=function(e){var n=e.children,r=e.color,t=e.disabled,s=e.endIcon,c=e.onClick,o=e.size,d=e.startIcon,u=e.sx,l=e.type,h=e.variant;return(0,a.jsx)(i.Z,{color:r,disabled:t,endIcon:s,onClick:c,size:o,sx:u,startIcon:d,type:l,variant:h,children:n})}},656:function(e,n,r){var i=r(7621),a=r(9504),t=r(184);n.Z=function(e){var n=e.children,r=e.sx;return(0,t.jsx)(i.Z,{sx:r,elevation:3,children:(0,t.jsx)(a.Z,{children:n})})}},5589:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children;return(0,a.jsx)(i.l0,{children:n})}},8425:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children,r=e.initialValues,t=e.onSubmit,s=e.validate;return(0,a.jsx)(i.J9,{initialValues:r,onSubmit:t,validate:s,children:n})}},6321:function(e,n,r){var i=r(1889),a=r(184);n.Z=function(e){var n=e.children,r=e.container,t=e.item,s=e.justify,c=e.justifyContent,o=e.md,d=e.spacing,u=e.sx,l=e.xs;return(0,a.jsx)(i.ZP,{container:r,item:t,justify:s,justifyContent:c,md:o,spacing:d,sx:u,xs:l,children:n})}},3434:function(e,n,r){var i=r(5021),a=r(184);n.Z=function(e){var n=e.children,r=e.disablePadding,t=e.onClick,s=e.sx;return(0,a.jsx)(i.ZP,{disablePadding:r,onClick:t,sx:s,children:n})}},7774:function(e,n,r){var i=r(9900),a=(r(2791),r(184));n.Z=function(e){var n=e.color,r=e.primary,t=e.sx;return(0,a.jsx)(i.Z,{color:n,primary:r,sx:{sx:t}})}},6484:function(e,n,r){var i=r(1413),a=r(5987),t=r(3896),s=r(184),c=["label"];n.Z=function(e){var n=e.label,r=(0,a.Z)(e,c);return(0,s.jsx)(t.Z,(0,i.Z)({label:n},r))}},4373:function(e,n,r){r.d(n,{P:function(){return u},x:function(){return d}});var i=r(1413),a=r(5987),t=r(9055),s=r(9624),c=r(184),o=["children","value","index"],d=function(e){var n=e.children,r=e.value,d=e.index,u=(0,a.Z)(e,o);return(0,c.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:r!==d,id:"custom-tabpanel-".concat(d),"aria-labelledby":"custom-tab-".concat(d)},u),{},{children:r===d&&(0,c.jsx)(t.Z,{sx:{p:3},children:(0,c.jsx)(s.Z,{children:n})})}))},u=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,r){var i=r(2101),a=r(184);n.Z=function(e){var n=e.ariaLabel,r=e.children,t=e.onChange,s=e.value;return(0,a.jsx)(i.Z,{"aria-label":n,onChange:t,value:s,children:r})}},4695:function(e,n,r){var i=r(1413),a=r(3006),t=r(184);n.Z=function(e){var n=e.defaultValue,r=e.disabled,s=e.error,c=e.focused,o=e.fullWidth,d=e.helperText,u=e.id,l=e.InputLabelProps,h=e.label,m=e.name,x=e.onChange,v=e.props,S=e.required,_=e.sx,Z=e.type,f=e.value;return(0,t.jsx)(a.Z,(0,i.Z)({defaultValue:n,disabled:r,error:s,focused:c,fullWidth:o,helperText:d,id:u,InputLabelProps:l,label:h,name:m,onChange:x,required:S,sx:_,type:Z,value:f},v))}},8478:function(e,n,r){var i=r(151),a=r(184);n.Z=function(e){var n=e.children,r=e.title;return(0,a.jsx)(i.Z,{title:r,children:n})}},9624:function(e,n,r){var i=r(4567),a=r(184);n.Z=function(e){var n=e.align,r=e.children,t=e.color,s=e.sx,c=e.variant;return(0,a.jsx)(i.Z,{align:n,color:t||"#777",sx:s,variant:c,children:r})}},7968:function(e,n,r){r.r(n),r.d(n,{default:function(){return D}});var i=r(1413),a=r(885),t=r(2791),s=r(9055),c=r(5192),o=r(6484),d=r(4373),u=r(4569),l=r.n(u),h=r(5985),m=r(816),x=r(656),v=r(6321),S=r(3434),_=r(7774),Z=r(184),f=function(){var e=(0,t.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],s=(0,t.useState)([]),c=(0,a.Z)(s,2),o=c[0],d=c[1],u=(0,t.useState)([]),f=(0,a.Z)(u,2),j=f[0],E=f[1];(0,t.useEffect)((function(){var e="/api/v1/cornerstone/issuer/did",n="/api/v1/cornerstone/issuer/schemas";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/did",n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schemas"),!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID?(l().get(e).then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==r.did&&l().get(n+"?schema_issuer_did="+r.did).then((function(e){d(e.data.schema_ids)})).catch((function(e){return console.log(e)}))):l().get(n+"?schema_issuer_did="+{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DID).then((function(e){d(e.data.schema_ids)})).catch((function(e){return console.log(e)}))}),[r.did]);return(0,Z.jsxs)(v.Z,{container:!0,spacing:2,children:[(0,Z.jsx)(v.Z,{item:!0,xs:12,md:4,children:o?0===o.length?(0,Z.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"}):o.map((function(e,n){return(0,Z.jsx)(x.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,Z.jsxs)(S.Z,{children:["Schema ID:",(0,Z.jsx)(m.Z,{onClick:function(){return function(e){var n="/api/v1/cornerstone/issuer/schema";({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL&&(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schema"),h.Am.promise(l().get(n+"?schema_id="+e).then((function(e){E(e.data.schema),h.Am.success("Fetched schema!")})).catch((function(e){h.Am.error(e.msg)})),{pending:"Fetching..."})}(e)},sx:{color:"#0645AD !important"},children:(0,Z.jsx)(_.Z,{primary:e})})]})},n)})):(0,Z.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"})}),(0,Z.jsx)(v.Z,{item:!0,xs:12,md:8,children:(0,Z.jsxs)(x.Z,{sx:{m:"1rem"},children:[(0,Z.jsxs)(S.Z,{children:["Schema ID: ",(0,Z.jsx)(_.Z,{primary:j.id})]}),(0,Z.jsxs)(S.Z,{children:["Schema Name: ",(0,Z.jsx)(_.Z,{primary:j.name})]}),(0,Z.jsxs)(S.Z,{children:["Schema Version: ",(0,Z.jsx)(_.Z,{primary:j.version})]}),(0,Z.jsxs)(S.Z,{children:["Schema Attributes:",(0,Z.jsx)(_.Z,{primary:j.attrNames})]})]})})]})},j=r(4165),E=r(5861),p=r(2506),T=(0,r(9201).Z)((0,Z.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),C=r(8425),O=r(5589),b=r(4695),A=r(8478),R=function(){var e=(0,t.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],s=(0,t.useState)(!1),c=(0,a.Z)(s,2),o=c[0],d=c[1],u=function(){var e=(0,E.Z)((0,j.Z)().mark((function e(n){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),r="/api/v1/cornerstone/issuer/schema/create",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL&&(r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_BASE_URL+"/cornerstone/issuer/schema/create"),e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,h.Am.promise(l().post(r,n).then((function(e){i(e.data.schema),h.Am.success("Created Schema!")})).catch((function(e){h.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 10:d(!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(x.Z,{children:(0,Z.jsxs)(v.Z,{container:!0,spacing:2,children:[(0,Z.jsxs)(v.Z,{item:!0,xs:12,md:6,children:[(0,Z.jsx)("h2",{children:"Add New Schema"}),(0,Z.jsx)(C.Z,{initialValues:{schema_name:"",schema_version:"",attributes:[]},onSubmit:function(e,n){var r=n.resetForm;u(e),r()},children:function(e){var n=e.values,r=e.handleChange;return(0,Z.jsxs)(O.Z,{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(b.Z,{id:"schema_name",name:"schema_name",value:n.schema_name,onChange:r,label:"Schema Name",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(b.Z,{id:"schema_version",name:"schema_version",value:n.schema_version,onChange:r,label:"Schema Version",sx:{m:"1rem"},required:!0})}),(0,Z.jsx)(p.F2,{name:"attributes",render:function(e){return(0,Z.jsxs)("div",{children:[n.attributes.map((function(n,i){return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(b.Z,{id:"attributes.".concat(i),name:"attributes.".concat(i),value:n,onChange:r,label:"Schema Attribute Name",sx:{m:"1rem"},required:!0}),(0,Z.jsx)(A.Z,{title:"Remove attribute",children:(0,Z.jsx)(m.Z,{onClick:function(){return e.remove(i)},sx:{m:"1rem"},children:(0,Z.jsx)(T,{})})})]},i)})),(0,Z.jsx)(m.Z,{variant:"outlined",sx:{m:"1rem"},onClick:function(){return e.push("")},children:"Add an Attribute"}),(0,Z.jsx)("div",{children:(0,Z.jsx)(m.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:o,children:"Create"})})]})}})]})}})]}),(0,Z.jsx)(v.Z,{item:!0,xs:12,md:6,children:r?(0,Z.jsxs)("div",{style:{padding:"2rem"},children:[(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema ID: "+r.id})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Name: "+r.name})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Version: "+r.version})}),(0,Z.jsx)(S.Z,{children:(0,Z.jsx)(_.Z,{primary:"Schema Attributes: "+r.attrNames})})]}):""})]})})},D=function(){var e=(0,t.useState)(0),n=(0,a.Z)(e,2),r=n[0],u=n[1];return(0,Z.jsxs)("div",{style:{margin:"1rem"},children:[(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)(c.Z,{value:r,onChange:function(e,n){u(n)},ariaLabel:"Schema Tabs",children:[(0,Z.jsx)(o.Z,(0,i.Z)({label:"All"},(0,d.P)(0))),(0,Z.jsx)(o.Z,(0,i.Z)({label:"New"},(0,d.P)(1)))]})}),(0,Z.jsx)(d.x,{value:r,index:0,children:(0,Z.jsx)(f,{})}),(0,Z.jsx)(d.x,{value:r,index:1,children:(0,Z.jsx)(R,{})})]})}}}]);
//# sourceMappingURL=968.1dd2a589.chunk.js.map