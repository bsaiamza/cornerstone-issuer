"use strict";(self.webpackChunkcornerstone_issuer=self.webpackChunkcornerstone_issuer||[]).push([[968],{9055:function(e,n,r){var i=r(4554),a=r(184);n.Z=function(e){var n=e.alt,r=e.children,t=e.component,s=e.src,c=e.sx;return(0,a.jsx)(i.Z,{alt:n,component:t,src:s,sx:c,children:r})}},816:function(e,n,r){var i=r(439),a=r(184);n.Z=function(e){var n=e.children,r=e.color,t=e.disabled,s=e.endIcon,c=e.onClick,o=e.size,u=e.startIcon,d=e.sx,l=e.type,m=e.variant;return(0,a.jsx)(i.Z,{color:r,disabled:t,endIcon:s,onClick:c,size:o,sx:d,startIcon:u,type:l,variant:m,children:n})}},656:function(e,n,r){var i=r(7621),a=r(9504),t=r(184);n.Z=function(e){var n=e.children,r=e.sx;return(0,t.jsx)(i.Z,{sx:r,elevation:3,children:(0,t.jsx)(a.Z,{children:n})})}},5589:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children;return(0,a.jsx)(i.l0,{children:n})}},8425:function(e,n,r){var i=r(2506),a=r(184);n.Z=function(e){var n=e.children,r=e.initialValues,t=e.onSubmit;return(0,a.jsx)(i.J9,{initialValues:r,onSubmit:t,children:n})}},6321:function(e,n,r){var i=r(1889),a=r(184);n.Z=function(e){var n=e.children,r=e.container,t=e.item,s=e.justify,c=e.md,o=e.spacing,u=e.xs;return(0,a.jsx)(i.ZP,{container:r,item:t,justify:s,md:c,spacing:o,xs:u,children:n})}},3434:function(e,n,r){var i=r(5021),a=r(184);n.Z=function(e){var n=e.children,r=e.disablePadding,t=e.onClick,s=e.sx;return(0,a.jsx)(i.ZP,{disablePadding:r,onClick:t,sx:s,children:n})}},7774:function(e,n,r){var i=r(9900),a=(r(2791),r(184));n.Z=function(e){var n=e.color,r=e.primary,t=e.sx;return(0,a.jsx)(i.Z,{color:n,primary:r,sx:{sx:t}})}},6484:function(e,n,r){var i=r(1413),a=r(5987),t=r(3896),s=r(184),c=["label"];n.Z=function(e){var n=e.label,r=(0,a.Z)(e,c);return(0,s.jsx)(t.Z,(0,i.Z)({label:n},r))}},4373:function(e,n,r){r.d(n,{P:function(){return d},x:function(){return u}});var i=r(1413),a=r(5987),t=r(9055),s=r(9624),c=r(184),o=["children","value","index"],u=function(e){var n=e.children,r=e.value,u=e.index,d=(0,a.Z)(e,o);return(0,c.jsx)("div",(0,i.Z)((0,i.Z)({role:"tabpanel",hidden:r!==u,id:"custom-tabpanel-".concat(u),"aria-labelledby":"custom-tab-".concat(u)},d),{},{children:r===u&&(0,c.jsx)(t.Z,{sx:{p:3},children:(0,c.jsx)(s.Z,{children:n})})}))},d=function(e){return{id:"custom-tab-".concat(e),"aria-controls":"custom-tabpanel-".concat(e)}}},5192:function(e,n,r){var i=r(2101),a=r(184);n.Z=function(e){var n=e.ariaLabel,r=e.children,t=e.onChange,s=e.value;return(0,a.jsx)(i.Z,{"aria-label":n,onChange:t,value:s,children:r})}},4695:function(e,n,r){var i=r(3006),a=r(184);n.Z=function(e){var n=e.disabled,r=e.focused,t=e.fullWidth,s=e.id,c=e.label,o=e.name,u=e.onChange,d=e.required,l=e.sx,m=e.type,h=e.value;return(0,a.jsx)(i.Z,{disabled:n,focused:r,fullWidth:t,id:s,label:c,name:o,onChange:u,required:d,sx:l,type:m,value:h})}},8478:function(e,n,r){var i=r(151),a=r(184);n.Z=function(e){var n=e.children,r=e.title;return(0,a.jsx)(i.Z,{title:r,children:n})}},9624:function(e,n,r){var i=r(4567),a=r(184);n.Z=function(e){var n=e.align,r=e.children,t=e.color,s=e.sx,c=e.variant;return(0,a.jsx)(i.Z,{align:n,color:t||"#777",sx:s,variant:c,children:r})}},7968:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var i=r(1413),a=r(885),t=r(2791),s=r(9055),c=r(5192),o=r(6484),u=r(4373),d=r(4569),l=r.n(d),m=r(6960),h=r(816),x=r(656),Z=r(6321),v=r(3434),f=r(7774),j=r(184),p=function(){var e=(0,t.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],s=(0,t.useState)([]),c=(0,a.Z)(s,2),o=c[0],u=c[1],d=(0,t.useState)([]),p=(0,a.Z)(d,2),b=p[0],g=p[1];(0,t.useEffect)((function(){l().get("/api/v1/cornerstone/issuer/did").then((function(e){i(e.data)})).catch((function(e){return console.log(e)})),"undefined"!==r.did&&l().get("/api/v1/cornerstone/issuer/schemas?schema_issuer_did="+r.did).then((function(e){u(e.data.schema_ids)})).catch((function(e){return console.log(e)}))}),[r.did]);return(0,j.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,j.jsx)(Z.Z,{item:!0,xs:12,md:4,children:o?0===o.length?(0,j.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"}):o.map((function(e,n){return(0,j.jsx)(x.Z,{sx:{m:"1rem",overflowWrap:"break-word"},children:(0,j.jsxs)(v.Z,{children:["Schema ID:",(0,j.jsx)(h.Z,{onClick:function(){return n=e,void m.Am.promise(l().get("/api/v1/cornerstone/issuer/schema?schema_id="+n).then((function(e){g(e.data.schema),m.Am.success("Fetched schema!")})).catch((function(e){m.Am.error(e.msg)})),{pending:"Fetching..."});var n},sx:{color:"#0645AD !important"},children:(0,j.jsx)(f.Z,{primary:e})})]})},n)})):(0,j.jsx)(x.Z,{sx:{m:"1rem"},children:"No schemas available!"})}),(0,j.jsx)(Z.Z,{item:!0,xs:12,md:8,children:(0,j.jsxs)(x.Z,{sx:{m:"1rem"},children:[(0,j.jsxs)(v.Z,{children:["Schema ID: ",(0,j.jsx)(f.Z,{primary:b.id})]}),(0,j.jsxs)(v.Z,{children:["Schema Name: ",(0,j.jsx)(f.Z,{primary:b.name})]}),(0,j.jsxs)(v.Z,{children:["Schema Version: ",(0,j.jsx)(f.Z,{primary:b.version})]}),(0,j.jsxs)(v.Z,{children:["Schema Attributes:",(0,j.jsx)(f.Z,{primary:b.attrNames})]})]})})]})},b=r(4165),g=r(5861),C=r(2506),S=(0,r(9201).Z)((0,j.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),y=r(8425),N=r(5589),A=r(4695),_=r(8478),k=function(){var e=(0,t.useState)([]),n=(0,a.Z)(e,2),r=n[0],i=n[1],s=(0,t.useState)(!1),c=(0,a.Z)(s,2),o=c[0],u=c[1],d=function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,m.Am.promise(l().post("/api/v1/cornerstone/issuer/schema/create",n).then((function(e){i(e.data.schema),m.Am.success("Created Schema!")})).catch((function(e){m.Am.error(e.response.data.msg)})),{pending:"Creating..."});case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)(x.Z,{children:(0,j.jsxs)(Z.Z,{container:!0,spacing:2,children:[(0,j.jsxs)(Z.Z,{item:!0,xs:12,md:6,children:[(0,j.jsx)("h2",{children:"Add New Schema"}),(0,j.jsx)(y.Z,{initialValues:{schema_name:"",schema_version:"",attributes:[]},onSubmit:function(e,n){var r=n.resetForm;d(e),r()},children:function(e){var n=e.values,r=e.handleChange;return(0,j.jsxs)(N.Z,{children:[(0,j.jsx)("div",{children:(0,j.jsx)(A.Z,{id:"schema_name",name:"schema_name",value:n.schema_name,onChange:r,label:"Schema Name",sx:{m:"1rem"},required:!0})}),(0,j.jsx)("div",{children:(0,j.jsx)(A.Z,{id:"schema_version",name:"schema_version",value:n.schema_version,onChange:r,label:"Schema Version",sx:{m:"1rem"},required:!0})}),(0,j.jsx)(C.F2,{name:"attributes",render:function(e){return(0,j.jsxs)("div",{children:[n.attributes.map((function(n,i){return(0,j.jsxs)("div",{children:[(0,j.jsx)(A.Z,{id:"attributes.".concat(i),name:"attributes.".concat(i),value:n,onChange:r,label:"Schema Attribute Name",sx:{m:"1rem"},required:!0}),(0,j.jsx)(_.Z,{title:"Remove attribute",children:(0,j.jsx)(h.Z,{onClick:function(){return e.remove(i)},sx:{m:"1rem"},children:(0,j.jsx)(S,{})})})]},i)})),(0,j.jsx)(h.Z,{variant:"outlined",sx:{m:"1rem"},onClick:function(){return e.push("")},children:"Add an Attribute"}),(0,j.jsx)("div",{children:(0,j.jsx)(h.Z,{variant:"contained",type:"submit",sx:{color:"#fff",m:"1rem"},disabled:o,children:"Create"})})]})}})]})}})]}),(0,j.jsx)(Z.Z,{item:!0,xs:12,md:6,children:r?(0,j.jsxs)("div",{style:{padding:"2rem"},children:[(0,j.jsx)(v.Z,{children:(0,j.jsx)(f.Z,{primary:"Schema ID: "+r.id})}),(0,j.jsx)(v.Z,{children:(0,j.jsx)(f.Z,{primary:"Schema Name: "+r.name})}),(0,j.jsx)(v.Z,{children:(0,j.jsx)(f.Z,{primary:"Schema Version: "+r.version})}),(0,j.jsx)(v.Z,{children:(0,j.jsx)(f.Z,{primary:"Schema Attributes: "+r.attrNames})})]}):""})]})})},w=function(){var e=(0,t.useState)(0),n=(0,a.Z)(e,2),r=n[0],d=n[1];return(0,j.jsxs)("div",{style:{margin:"1rem"},children:[(0,j.jsx)(s.Z,{children:(0,j.jsxs)(c.Z,{value:r,onChange:function(e,n){d(n)},ariaLabel:"Schema Tabs",children:[(0,j.jsx)(o.Z,(0,i.Z)({label:"All"},(0,u.P)(0))),(0,j.jsx)(o.Z,(0,i.Z)({label:"New"},(0,u.P)(1)))]})}),(0,j.jsx)(u.x,{value:r,index:0,children:(0,j.jsx)(p,{})}),(0,j.jsx)(u.x,{value:r,index:1,children:(0,j.jsx)(k,{})})]})}},7621:function(e,n,r){r.d(n,{Z:function(){return v}});var i=r(7462),a=r(3366),t=r(2791),s=r(8182),c=r(4419),o=r(7630),u=r(3736),d=r(4841),l=r(1217);function m(e){return(0,l.Z)("MuiCard",e)}(0,r(5878).Z)("MuiCard",["root"]);var h=r(184),x=["className","raised"],Z=(0,o.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),v=t.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCard"}),t=r.className,o=r.raised,d=void 0!==o&&o,l=(0,a.Z)(r,x),v=(0,i.Z)({},r,{raised:d}),f=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},m,n)}(v);return(0,h.jsx)(Z,(0,i.Z)({className:(0,s.Z)(f.root,t),elevation:d?8:void 0,ref:n,ownerState:v},l))}))},9504:function(e,n,r){r.d(n,{Z:function(){return Z}});var i=r(7462),a=r(3366),t=r(2791),s=r(8182),c=r(4419),o=r(7630),u=r(3736),d=r(1217);function l(e){return(0,d.Z)("MuiCardContent",e)}(0,r(5878).Z)("MuiCardContent",["root"]);var m=r(184),h=["className","component"],x=(0,o.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),Z=t.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCardContent"}),t=r.className,o=r.component,d=void 0===o?"div":o,Z=(0,a.Z)(r,h),v=(0,i.Z)({},r,{component:d}),f=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},l,n)}(v);return(0,m.jsx)(x,(0,i.Z)({as:d,className:(0,s.Z)(f.root,t),ownerState:v,ref:n},Z))}))}}]);
//# sourceMappingURL=968.f5eda139.chunk.js.map